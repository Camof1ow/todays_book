<!doctype html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge"/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <link href='{{ url_for("static", filename="ranking.css") }}' rel="stylesheet">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <title>ì˜¤ëŠ˜ì˜ ì±…ğŸ“š</title>


    <script>

        $(document).ready(function () {
            listing()

        });


        function listing() {
            $.ajax({
                type: 'GET',
                url: '/ranking/rank',
                data: {},
                success: function (response) {
                    console.log(response)
                    let rows = response['books']
                    for (let i = 0; i < rows.length; i++) {
                        let rank = rows[i]['rank']
                        let title = rows[i]['title']
                        let writer = rows[i]['writer']
                        let score = rows[i]['score']
                        let image = rows[i]['image']
                        let story = rows[i]['story']


                        let temp_html = `<div class="card-grid-space">
                                            <div class="num">${rank}ìœ„</div>
                                            <a class="card" href="/detail?id=${title}"
                                               style="--bg-img: url(${image})">
                                                <div>
                                                    <h2>${title}</h2>
                                                    <p>${story}</p>
                                                    <p>í‰ì  ${score}</p>

                                                </div>
                                            </a>
                                        </div>`
                        $('#Section').append(temp_html)


                    }

                }
            })

        }


    </script>
</head>

<body>

<section class="info">
    <h1>ì˜¤ëŠ˜ì˜ ì±…ğŸ“š </h1>
</section>
<section class="cards-wrapper" id="Section">

    <!-- https://images.unsplash.com/photo-1520839090488-4a6c211e2f94?ixlib=rb-0.3.5&ixid=eyJhcHBfaWQiOjEyMDd9&s=38951b8650067840307cba514b554ba5&auto=format&fit=crop&w=1350&q=80 -->
</section>
</body>

</html>